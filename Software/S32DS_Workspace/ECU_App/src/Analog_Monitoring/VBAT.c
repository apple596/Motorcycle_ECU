/*
 * VBAT.c
 *
 *  Created on: 2023年3月2日
 *      Author: mzy2364
 */



/*******************************************************************************
* include files                                                 
*******************************************************************************/
#include "VBAT.h"
#include "bsp_adc.h"

/*******************************************************************************
* Defines                                                                
*******************************************************************************/

/*******************************************************************************
* Macros                                                                
*******************************************************************************/

/*******************************************************************************
* Global Constant definition                         
*******************************************************************************/

/*******************************************************************************
* Local Constant definition                         
*******************************************************************************/

/*******************************************************************************
* Global Variables definition                         
*******************************************************************************/
uint16_t VBAT_Voltage = 0;

/*******************************************************************************
* Local Variables definition                         
*******************************************************************************/

/*******************************************************************************
* Local Functions prototypes                         
*******************************************************************************/
		 
/*******************************************************************************
*  Global Functions Body                                   
*******************************************************************************/

/**
  * @brief 
  * @param void
  * @retval	void
  * @note
  */
void vbat_monitoring(void)
{
	VBAT_Voltage = adc_read_channel_mv(VBAT_ADC_CHANNEL);
	VBAT_Voltage *= 6;
}

/**
  * @brief
  * @param void
  * @retval	void
  * @note
  */
uint16_t vbat_get_mv(void)
{
	return VBAT_Voltage;
}

